<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bio-Aryavedic - Fabrics for a better tomorrow</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- AOS Animation Library -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    
    <!-- Swiper CSS for carousels -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
    
    <!-- Custom Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --primary-green: #22c55e;
            --secondary-green: #16a34a;
            --accent-blue: #3b82f6;
            --gradient-1: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
            --gradient-2: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            --gradient-3: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        }
        
        body {
            font-family: 'Inter', sans-serif;
        }
        
        .font-display {
            font-family: 'Playfair Display', serif;
        }
        
        .bg-gradient-primary {
            background: var(--gradient-1);
        }
        
        .bg-gradient-blue {
            background: var(--gradient-2);
        }
        
        .bg-gradient-orange {
            background: var(--gradient-3);
        }
        
        /* Glassmorphism effect */
        .glass {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        /* Floating animation */
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        .float-animation {
            animation: float 6s ease-in-out infinite;
        }
        
        /* Pulse glow effect */
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 20px rgba(34, 197, 94, 0.3); }
            50% { box-shadow: 0 0 40px rgba(34, 197, 94, 0.6); }
        }
        
        .pulse-glow {
            animation: pulse-glow 2s ease-in-out infinite;
        }
        
        /* Smooth hover transforms */
        .hover-lift {
            transition: all 0.3s ease;
        }
        
        .hover-lift:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--primary-green);
            border-radius: 4px;
        }
        
        /* Video background styling */
        .video-bg {
            position: relative;
        }
        
        .video-bg video {
            filter: brightness(0.8) contrast(1.1);
        }
        
        /* Animated overlay for video */
        .video-overlay {
            background: linear-gradient(-45deg, rgba(34, 197, 94, 0.7), rgba(22, 163, 74, 0.6), rgba(59, 130, 246, 0.5), rgba(29, 78, 216, 0.4));
            background-size: 400% 400%;
            animation: gradient-shift 15s ease infinite;
        }
        
        @keyframes gradient-shift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* Parallax elements */
        .parallax-element {
            transform: translateZ(0);
            will-change: transform;
        }
        
        /* Counter animation */
        .counter {
            font-weight: 700;
            font-size: 2.5rem;
        }
        
        /* Interactive cards */
        .card-3d {
            transform-style: preserve-3d;
            transition: transform 0.6s;
        }
        
        .card-3d:hover {
            transform: rotateY(5deg) rotateX(5deg);
        }
        
        /* Loading animation */
        .loading-animation {
            animation: shimmer 2s infinite linear;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        /* Custom button hover effects */
        .btn-primary {
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }
        
        .btn-primary:hover::before {
            left: 100%;
        }
        
        /* Animated underline */
        .animated-underline {
            position: relative;
        }
        
        .animated-underline::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--primary-green);
            transition: width 0.3s ease;
        }
        
        .animated-underline:hover::after {
            width: 100%;
        }
        
        /* Custom scroll indicator animation */
        @keyframes scroll-bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }
        
        .scroll-indicator {
            animation: scroll-bounce 2s infinite;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .scroll-indicator:hover {
            transform: scale(1.1);
        }
        
        .scroll-indicator:active {
            transform: scale(0.95);
        }
        
        /* Moving banner scroll animation */
        @keyframes scroll {
            0% {
                transform: translateX(0);
            }
            100% {
                transform: translateX(-50%);
            }
        }
        
        .organization-item:hover {
            transform: translateY(-3px);
            background: rgba(74, 222, 128, 0.1);
            border-radius: 8px;
        }
        
        .organization-item:hover .org-logo img {
            filter: none;
            transform: scale(1.05);
        }
        
        /* Responsive Design for moving banner */
        @media (max-width: 768px) {
            .moving-banner {
                height: 100px;
                margin: 1.5rem 0;
            }
            
            .banner-content {
                gap: 2rem;
                animation-duration: 25s;
            }
            
            .moving-banner .organization-item {
                padding: 0.8rem;
                min-width: 100px;
                max-width: 120px;
            }
            
            .moving-banner .org-logo img {
                max-width: 80px;
                max-height: 60px;
            }
        }
        
        @media (max-width: 480px) {
            .moving-banner {
                height: 80px;
                margin: 1rem 0;
            }
            
            .banner-content {
                gap: 1.5rem;
                animation-duration: 20s;
            }
            
            .moving-banner .organization-item {
                padding: 0.6rem;
                min-width: 80px;
                max-width: 100px;
            }
            
            .moving-banner .org-logo {
                padding: 0.4rem;
            }
            
            .moving-banner .org-logo img {
                max-width: 60px;
                max-height: 45px;
            }
        }
    </style>
</head>
<body class="overflow-x-hidden">
    <!-- Loading Screen -->
    <!-- <div id="loading-screen" class="fixed inset-0 z-50 flex items-center justify-center bg-gradient-primary">
        <div class="text-center text-white">
            <img src="assets/logo_symbol.png" alt="Bio-Aryavedic" class="h-48 mx-auto mb-4">
            <p class="text-sm opacity-80">Loading Innovation...</p>
            <div class="w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-4"></div>
        </div>
    </div> -->

    <!-- Header Component -->
    <div id="header-component"></div>

    <!-- Floating Funding Badge -->
    <div id="funding-badge" class="fixed bottom-6 right-6 z-40 opacity-0 pointer-events-none transition-all duration-500">
        <div class="bg-gradient-to-r from-emerald-500 to-cyan-500 text-white p-4 rounded-2xl shadow-2xl max-w-xs cursor-pointer hover:scale-105 transition-transform">
            <div class="flex items-start space-x-3">
                <div class="w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center flex-shrink-0">
                    <i class="fas fa-rocket text-lg"></i>
                </div>
                <div class="flex-1 min-w-0">
                    <p class="font-semibold text-sm mb-1">Funding alert!</p>
                    <p class="text-xs opacity-90 line-clamp-2">Seed investment from Manorama Online Elevate</p>
                </div>
                <button id="close-funding-badge" class="w-6 h-6 bg-white bg-opacity-20 rounded-full flex items-center justify-center hover:bg-opacity-30 transition-all flex-shrink-0">
                    <i class="fas fa-times text-xs"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <section id="home" class="min-h-screen flex items-center justify-center relative overflow-hidden">
        <!-- Video Background -->
        <video autoplay muted loop playsinline class="absolute inset-0 w-full h-full object-cover z-0">
            <source src="assets/hero-video.mp4" type="video/mp4">
        </video>
        
        <!-- Color Overlay -->
        <div class="absolute inset-0 video-overlay z-1"></div>
        
        <!-- Floating elements for visual appeal -->
        <div class="absolute top-20 left-10 w-20 h-20 bg-white bg-opacity-10 rounded-full float-animation z-10"></div>
        <div class="absolute top-40 right-20 w-32 h-32 bg-white bg-opacity-5 rounded-full float-animation z-10" style="animation-delay: -2s;"></div>
        <div class="absolute bottom-40 left-1/4 w-16 h-16 bg-white bg-opacity-15 rounded-full float-animation z-10" style="animation-delay: -4s;"></div>
        
        <div class="container mx-auto px-6 text-center relative z-10">
            <div data-aos="fade-up" data-aos-duration="1000">
                <h1 class="text-5xl lg:text-7xl font-bold text-white mb-6 font-display">
                    Fabrics for a
                    <span class="block bg-gradient-to-r from-yellow-300 to-orange-300 bg-clip-text text-transparent">
                        Better Tomorrow
                    </span>
                </h1>
            </div>
            
            <div data-aos="fade-up" data-aos-delay="200" data-aos-duration="1000">
                <p class="text-xl lg:text-2xl text-white mb-8 max-w-3xl mx-auto opacity-90">
                    Revolutionary fabric care solutions that combine cutting-edge technology with sustainable practices for both B2C and B2B markets.
                </p>
            </div>
            
            <div data-aos="fade-up" data-aos-delay="400" data-aos-duration="1000" class="flex flex-col sm:flex-row gap-4 justify-center items-center">
                <button class="btn-primary bg-white text-green-600 px-8 py-4 rounded-full text-lg font-semibold hover:bg-green-50 transition-all hover-lift w-full sm:w-auto" onclick="document.getElementById('products').scrollIntoView({behavior: 'smooth', block: 'start'})">
                    Explore Products
                </button>
                <button class="glass text-white px-8 py-4 rounded-full text-lg font-semibold hover:bg-white hover:bg-opacity-20 transition-all w-full sm:w-auto" onclick="window.open('https://youtu.be/7SJWcUCRWNM?si=g7rbFx8ZSxXgI_JL&t=48', '_blank')">
                    Watch Story
                    <i class="fas fa-play ml-2"></i>
                </button>
            </div>
            
            <!-- Scroll indicator -->
            <div class="mt-12 scroll-indicator" data-aos="fade-up" data-aos-delay="600" id="scroll-indicator">
                <div class="w-6 h-10 border-2 border-white rounded-full flex justify-center mx-auto">
                    <div class="w-1 h-3 bg-white rounded-full mt-2"></div>
                </div>
                <p class="text-white text-xs mt-2 opacity-80 text-center">Scroll</p>
            </div>
        </div>
    </section>

    <!-- Stats Section -->
    <section class="py-20 bg-gray-50">
        <div class="container mx-auto px-6">
            <div class="grid grid-cols-2 lg:grid-cols-4 gap-8">
                <div class="text-center" data-aos="zoom-in" data-aos-delay="100">
                    <div class="counter text-green-600 mb-2" data-target="1000">0</div>
                    <p class="text-gray-600 font-semibold">Happy Customers</p>
                </div>
                <div class="text-center" data-aos="zoom-in" data-aos-delay="200">
                    <div class="counter text-blue-600 mb-2" data-target="50">0</div>
                    <p class="text-gray-600 font-semibold">B2B Partners</p>
                </div>
                <div class="text-center" data-aos="zoom-in" data-aos-delay="300">
                    <div class="counter text-orange-600 mb-2" data-target="95">0</div>
                    <p class="text-gray-600 font-semibold">Sustainability Score</p>
                </div>
                <div class="text-center" data-aos="zoom-in" data-aos-delay="400">
                    <div class="counter text-purple-600 mb-2" data-target="5">0</div>
                    <p class="text-gray-600 font-semibold">Years Innovation</p>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-20 bg-white">
        <div class="container mx-auto px-6">
            <div class="grid lg:grid-cols-2 gap-12 items-center">
                <div data-aos="fade-right" data-aos-duration="1000">
                    <h2 class="text-4xl lg:text-5xl font-bold text-gray-800 mb-6 font-display">
                        Revolutionizing
                        <span class="text-green-600">Fabric Care</span>
                    </h2>
                    <p class="text-lg text-gray-600 mb-6 leading-relaxed">
                        Bio-Aryavedic combines ancient wisdom with modern technology to create sustainable fabric care solutions. Our innovative approach serves both individual consumers and enterprise clients with eco-friendly, effective products.
                    </p>
                    <div class="space-y-4">
                        <div class="flex items-center space-x-3">
                            <div class="w-6 h-6 bg-green-500 rounded-full flex items-center justify-center">
                                <i class="fas fa-check text-white text-sm"></i>
                            </div>
                            <span class="text-gray-700">100% Natural & Biodegradable</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <div class="w-6 h-6 bg-green-500 rounded-full flex items-center justify-center">
                                <i class="fas fa-check text-white text-sm"></i>
                            </div>
                            <span class="text-gray-700">Advanced Nanotechnology</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <div class="w-6 h-6 bg-green-500 rounded-full flex items-center justify-center">
                                <i class="fas fa-check text-white text-sm"></i>
                            </div>
                            <span class="text-gray-700">B2B & B2C Solutions</span>
                        </div>
                    </div>
                    <button class="btn-primary bg-gradient-primary text-white px-8 py-4 rounded-full font-semibold mt-8 hover-lift" onclick="window.location.href='mission.html'">
                        Learn More
                        <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
                
                <div data-aos="fade-left" data-aos-duration="1000" class="relative">
                    <div class="relative z-10">
                        <img src="assets/images/old_woman.webp" 
                             alt="Sustainable fabric care" 
                             class="rounded-2xl shadow-2xl hover-lift">
                    </div>
                    <!-- Decorative elements -->
                    <div class="absolute -top-4 -right-4 w-24 h-24 bg-green-200 rounded-full opacity-50 float-animation"></div>
                    <div class="absolute -bottom-4 -left-4 w-32 h-32 bg-blue-200 rounded-full opacity-30 float-animation" style="animation-delay: -3s;"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Products Section -->
    <section id="products" class="py-20 bg-gradient-to-br from-gray-50 to-gray-100">
        <div class="container mx-auto px-6">
            <div class="text-center mb-16" data-aos="fade-up">
                <h2 class="text-4xl lg:text-5xl font-bold text-gray-800 mb-6 font-display">
                    Our <span class="text-green-600">Products</span>
                </h2>
                <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                    Comprehensive fabric care solutions designed for every need, from household applications to industrial-scale operations.
                </p>
            </div>
            
            <div class="grid md:grid-cols-2 gap-8">
                <!-- Product 1: B2B Eco-Friendly Fabric Sizing Agent -->
                <div class="card-3d bg-white rounded-2xl shadow-lg overflow-hidden hover-lift" data-aos="flip-left" data-aos-delay="100">
                    <div class="h-48 bg-gradient-to-r from-white-500 to-blue-600 flex items-center justify-center relative">
                        <img src="assets/images/product_BN160.webp" alt="B2B Eco-Friendly Fabric Sizing Agent" class="max-w-full max-h-full object-contain">
                        <div class="absolute top-3 left-3 bg-blue-600 text-white px-3 py-1 rounded-full text-xs font-semibold uppercase tracking-wide">B2B</div>
                    </div>
                    <div class="p-6">
                        <div class="text-sm text-gray-500 font-medium uppercase tracking-wide mb-2">Industrial Fabric Care</div>
                        <h3 class="text-xl font-bold text-gray-800 mb-3">B2B Eco-Friendly Fabric Sizing Agent</h3>
                        
                        <!-- Rating -->
                        <div class="flex items-center gap-2 mb-3">
                            <div class="flex gap-1">
                                <span class="text-yellow-400 text-sm">★</span>
                                <span class="text-yellow-400 text-sm">★</span>
                                <span class="text-yellow-400 text-sm">★</span>
                                <span class="text-yellow-400 text-sm">★</span>
                                <span class="text-gray-300 text-sm">★</span>
                            </div>
                            <span class="text-sm text-gray-600">4.2 (18 reviews)</span>
                        </div>
                        
                        <!-- Price -->
                        <div class="flex items-baseline gap-2 mb-3">
                            <span class="text-2xl font-bold text-gray-800">₹2,500</span>
                            <span class="text-gray-500 line-through">₹3,200</span>
                            <span class="bg-red-500 text-white px-2 py-1 rounded text-xs font-semibold">22% OFF</span>
                        </div>
                        
                        <!-- Promo Badge -->
                        <div class="mb-3">
                            <span class="bg-gradient-to-r from-orange-500 to-orange-600 text-white px-3 py-1 rounded-full text-xs font-semibold uppercase tracking-wide inline-block shadow-lg animate-pulse">Website Order Promo</span>
                        </div>
                        
                        <p class="text-gray-600 text-sm mb-4">Revolutionizing the fabric sizing process for a green future. Our industrial solution forms a uniform layer of protective coating over warp yarn, minimizes yarn breakage during weaving, and improves yarn strength to resist mechanical stress.</p>
                        
                        <!-- Specs -->
                        <div class="space-y-1 mb-4 text-sm text-gray-600">
                            <p><strong class="text-gray-800">SKU:</strong> BN160</p>
                            <p><strong class="text-gray-800">Volume:</strong> 5L</p>
                            <p><strong class="text-gray-800">Application:</strong> Industrial Weaving</p>
                        </div>
                        
                        <!-- Know More Link -->
                        <div class="mb-4">
                            <a href="product_b2b.html" class="text-blue-600 text-sm font-medium hover:text-blue-700 transition-all animated-underline">
                                Know more <i class="fas fa-arrow-right text-xs ml-1"></i>
                            </a>
                        </div>
                        
                        <!-- Actions -->
                        <div class="flex gap-3">
                            <button class="shopify-add-to-cart flex-1 border-2 border-blue-600 text-blue-600 py-2 px-4 rounded-lg font-semibold hover:bg-blue-600 hover:text-white transition-all" data-sku="BN160">
                                Add to Cart
                            </button>
                            <button class="shopify-buy-now flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-blue-700 transition-all" data-sku="BN160">
                                Buy Now
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Product 2: Eco-Friendly Instant Fabric Stiffener Spray -->
                <div class="card-3d bg-white rounded-2xl shadow-lg overflow-hidden hover-lift" data-aos="flip-left" data-aos-delay="200">
                    <div class="h-48 bg-gradient-to-r from-white-500 to-green-600 flex items-center justify-center relative">
                        <img src="assets/images/product_BN161.webp" alt="Eco-Friendly Instant Fabric Stiffener Spray" class="max-w-full max-h-full object-contain">
                        <div class="absolute top-3 left-3 bg-green-600 text-white px-3 py-1 rounded-full text-xs font-semibold uppercase tracking-wide">Home</div>
                    </div>
                    <div class="p-6">
                        <div class="text-sm text-gray-500 font-medium uppercase tracking-wide mb-2">Fabric Care for Home Use</div>
                        <h3 class="text-xl font-bold text-gray-800 mb-3">Eco-Friendly Instant Fabric Stiffener Spray</h3>
                        
                        <!-- Rating -->
                        <div class="flex items-center gap-2 mb-3">
                            <div class="flex gap-1">
                                <span class="text-yellow-400 text-sm">★</span>
                                <span class="text-yellow-400 text-sm">★</span>
                                <span class="text-yellow-400 text-sm">★</span>
                                <span class="text-yellow-400 text-sm">★</span>
                                <span class="text-yellow-400 text-sm opacity-70">★</span>
                            </div>
                            <span class="text-sm text-gray-600">4.3 (23 reviews)</span>
                        </div>
                        
                        <!-- Price -->
                        <div class="flex items-baseline gap-2 mb-3">
                            <span class="text-2xl font-bold text-gray-800">₹530</span>
                            <span class="text-gray-500 line-through">₹650</span>
                            <span class="bg-red-500 text-white px-2 py-1 rounded text-xs font-semibold">18% OFF</span>
                            <span class="text-sm text-gray-500">(₹1,177.78/l)</span>
                        </div>
                        
                        <!-- Promo Badge -->
                        <div class="mb-3">
                            <span class="bg-gradient-to-r from-orange-500 to-orange-600 text-white px-3 py-1 rounded-full text-xs font-semibold uppercase tracking-wide inline-block shadow-lg animate-pulse">Website Order Promo</span>
                        </div>
                        
                        <!-- Delivery Info -->
                        <div class="mb-3">
                            <span class="text-green-600 text-sm font-medium">Get it in 3 days *</span>
                        </div>
                        
                        <p class="text-gray-600 text-sm mb-4">Busy mornings, crisp outfits. Transform your ironing experience with our eco-friendly instant fabric stiffener spray. Perfect for time-saving solutions during morning rush before school or work.</p>
                        
                        <!-- Specs -->
                        <div class="space-y-1 mb-4 text-sm text-gray-600">
                            <p><strong class="text-gray-800">SKU:</strong> BN161</p>
                            <p><strong class="text-gray-800">Volume:</strong> 450ml</p>
                            <p><strong class="text-gray-800">Type:</strong> 3-in-1 Antimicrobial</p>
                        </div>
                        
                        <!-- How to Use -->
                        <div class="mb-4">
                            <h4 class="text-gray-800 font-semibold mb-2">How to Use:</h4>
                            <p class="text-sm text-gray-600">Simply apply this spray starch to clothes while ironing to experience the convenience of an anti-wrinkle spray for clothing, ensuring a smoother and more efficient ironing process. For dark colours, starch can be applied inside the clothes rather than visible.</p>
                        </div>
                        <!-- Know More Link -->
                        <div class="mb-4">
                            <a href="product_b2c.html" class="text-blue-600 text-sm font-medium hover:text-blue-700 transition-all animated-underline">
                                Know more <i class="fas fa-arrow-right text-xs ml-1"></i>
                            </a>
                        </div>
                        
                        <!-- Actions -->
                        <div class="flex gap-3">
                            <button class="shopify-add-to-cart flex-1 border-2 border-blue-600 text-blue-600 py-2 px-4 rounded-lg font-semibold hover:bg-blue-600 hover:text-white transition-all" data-sku="BN161">
                                Add to Cart
                            </button>
                            <button class="shopify-buy-now flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-blue-700 transition-all" data-sku="BN161">
                                Buy Now
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div id="shopify-dynamic-products" class="grid md:grid-cols-2 gap-8 mt-8"></div>
        </div>
    </section>

    <!-- Features Carousel -->
    <section class="py-20 bg-white overflow-hidden">
        <div class="container mx-auto px-6 mb-12" data-aos="fade-up">
            <h2 class="text-4xl lg:text-5xl font-bold text-center text-gray-800 mb-6 font-display">
                Why Choose <span class="text-green-600">Bio-Aryavedic</span>
            </h2>
        </div>
        
        <div class="swiper features-swiper">
            <div class="swiper-wrapper">
                <div class="swiper-slide">
                    <div class="glass rounded-2xl p-8 mx-4 text-center">
                        <div class="w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4 pulse-glow">
                            <i class="fas fa-leaf text-white text-2xl"></i>
                        </div>
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">100% Natural</h3>
                        <p class="text-gray-600">All our products are made from natural, biodegradable ingredients that are safe for you and the environment.</p>
                    </div>
                </div>
                
                <div class="swiper-slide">
                    <div class="glass rounded-2xl p-8 mx-4 text-center">
                        <div class="w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-4 pulse-glow">
                            <i class="fas fa-flask text-white text-2xl"></i>
                        </div>
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">Advanced Science</h3>
                        <p class="text-gray-600">Leveraging cutting-edge nanotechnology and biochemistry for superior cleaning performance.</p>
                    </div>
                </div>
                
                <div class="swiper-slide">
                    <div class="glass rounded-2xl p-8 mx-4 text-center">
                        <div class="w-16 h-16 bg-purple-500 rounded-full flex items-center justify-center mx-auto mb-4 pulse-glow">
                            <i class="fas fa-award text-white text-2xl"></i>
                        </div>
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">Proven Results</h3>
                        <p class="text-gray-600">Trusted by thousands of customers and dozens of business partners for consistent, reliable results.</p>
                    </div>
                </div>
                
                <div class="swiper-slide">
                    <div class="glass rounded-2xl p-8 mx-4 text-center">
                        <div class="w-16 h-16 bg-orange-500 rounded-full flex items-center justify-center mx-auto mb-4 pulse-glow">
                            <i class="fas fa-recycle text-white text-2xl"></i>
                        </div>
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">Sustainable</h3>
                        <p class="text-gray-600">Contributing to UN SDG goals through eco-friendly practices and sustainable manufacturing.</p>
                    </div>
                </div>
            </div>
            <div class="swiper-pagination"></div>
        </div>
    </section>

    <!-- SDG Goals Section -->
    <section id="sustainability" class="py-20 bg-gradient-to-br from-green-50 to-blue-50">
        <div class="container mx-auto px-6">
            <div class="text-center mb-16" data-aos="fade-up">
                <h2 class="text-4xl lg:text-5xl font-bold text-gray-800 mb-6 font-display">
                    Supporting <span class="text-green-600">UN SDG Goals</span>
                </h2>
                <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                    Our commitment to sustainability aligns with multiple United Nations Sustainable Development Goals.
                </p>
            </div>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="bg-white rounded-2xl p-6 shadow-lg hover-lift" data-aos="zoom-in" data-aos-delay="100">
                    <div class="w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center mb-4">
                        <i class="fas fa-leaf text-white text-xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800 mb-3">Climate Action</h3>
                    <p class="text-gray-600">Reducing carbon footprint through sustainable manufacturing and eco-friendly products.</p>
                </div>
                
                <div class="bg-white rounded-2xl p-6 shadow-lg hover-lift" data-aos="zoom-in" data-aos-delay="200">
                    <div class="w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center mb-4">
                        <i class="fas fa-water text-white text-xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800 mb-3">Clean Water</h3>
                    <p class="text-gray-600">Protecting water resources through biodegradable formulations and responsible usage.</p>
                </div>
                
                <div class="bg-white rounded-2xl p-6 shadow-lg hover-lift" data-aos="zoom-in" data-aos-delay="300">
                    <div class="w-12 h-12 bg-purple-500 rounded-lg flex items-center justify-center mb-4">
                        <i class="fas fa-industry text-white text-xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800 mb-3">Innovation</h3>
                    <p class="text-gray-600">Driving industry innovation through responsible manufacturing and sustainable practices.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Recognition Section -->
    <section class="py-20 bg-gray-900 text-white overflow-hidden">
        <div class="container mx-auto px-6">
            <div class="text-center mb-16" data-aos="fade-up">
                <h2 class="text-4xl lg:text-5xl font-bold mb-6 font-display">
                    Recognition & <span class="text-green-400">Awards</span>
                </h2>
                <p class="text-xl text-gray-300 max-w-3xl mx-auto">
                    Our commitment to excellence and sustainability has been recognized by industry leaders.
                </p>
            </div>
            
            <!-- Moving Banner -->
            <div class="moving-banner" style="margin: 2rem 0; overflow: hidden; position: relative; height: 120px; background: rgba(17, 24, 39, 0.8); border-radius: 10px; box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3); border: 1px solid rgba(74, 222, 128, 0.2);">
                <div class="banner-track" style="height: 100%; display: flex; align-items: center;">
                    <div class="banner-content" style="display: flex; align-items: center; gap: 3rem; animation: scroll 30s linear infinite; padding: 0 2rem;">
                        <div class="organization-item" style="flex-shrink: 0; text-align: center; transition: all 0.3s ease; padding: 1rem; border-radius: 8px; background: transparent; min-width: 120px; max-width: 150px;">
                            <div class="org-logo" style="text-align: center; margin-bottom: 0; padding: 0.5rem; background: transparent; border-radius: 6px; transition: all 0.3s ease;">
                                <img src="assets/images/manage-logo.webp" alt="MANAGE Logo" loading="lazy" style="max-width: 100px; max-height: 70px; object-fit: contain; filter: none; transition: all 0.3s ease;">
                            </div>
                        </div>
                        
                        <div class="organization-item" style="flex-shrink: 0; text-align: center; transition: all 0.3s ease; padding: 1rem; border-radius: 8px; background: transparent; min-width: 120px; max-width: 150px;">
                            <div class="org-logo" style="text-align: center; margin-bottom: 0; padding: 0.5rem; background: transparent; border-radius: 6px; transition: all 0.3s ease;">
                                <img src="assets/images/abi-logo.webp" alt="ABI Logo" loading="lazy" style="max-width: 100px; max-height: 70px; object-fit: contain; filter: none; transition: all 0.3s ease;">
                            </div>
                        </div>
                        
                        <div class="organization-item" style="flex-shrink: 0; text-align: center; transition: all 0.3s ease; padding: 1rem; border-radius: 8px; background: transparent; min-width: 120px; max-width: 150px;">
                            <div class="org-logo" style="text-align: center; margin-bottom: 0; padding: 0.5rem; background: transparent; border-radius: 6px; transition: all 0.3s ease;">
                                <img src="assets/images/kau-logo.webp" alt="Kerala Agricultural University Logo" loading="lazy" style="max-width: 100px; max-height: 70px; object-fit: contain; filter: none; transition: all 0.3s ease;">
                            </div>
                        </div>
                        
                        <div class="organization-item" style="flex-shrink: 0; text-align: center; transition: all 0.3s ease; padding: 1rem; border-radius: 8px; background: transparent; min-width: 120px; max-width: 150px;">
                            <div class="org-logo" style="text-align: center; margin-bottom: 0; padding: 0.5rem; background: transparent; border-radius: 6px; transition: all 0.3s ease;">
                                <img src="assets/images/ksm-logo.webp" alt="Kerala Startup Mission Logo" loading="lazy" style="max-width: 100px; max-height: 70px; object-fit: contain; filter: none; transition: all 0.3s ease;">
                            </div>
                        </div>
                        
                        <div class="organization-item" style="flex-shrink: 0; text-align: center; transition: all 0.3s ease; padding: 1rem; border-radius: 8px; background: transparent; min-width: 120px; max-width: 150px;">
                            <div class="org-logo" style="text-align: center; margin-bottom: 0; padding: 0.5rem; background: transparent; border-radius: 6px; transition: all 0.3s ease;">
                                <img src="assets/images/iim-vizag-logo.webp" alt="IIM Visakhapatnam Logo" loading="lazy" style="max-width: 100px; max-height: 70px; object-fit: contain; filter: none; transition: all 0.3s ease;">
                            </div>
                        </div>
                        
                        <!-- Duplicate items for seamless loop -->
                        <div class="organization-item" style="flex-shrink: 0; text-align: center; transition: all 0.3s ease; padding: 1rem; border-radius: 8px; background: transparent; min-width: 120px; max-width: 150px;">
                            <div class="org-logo" style="text-align: center; margin-bottom: 0; padding: 0.5rem; background: transparent; border-radius: 6px; transition: all 0.3s ease;">
                                <img src="assets/images/manage-logo.webp" alt="MANAGE Logo" loading="lazy" style="max-width: 100px; max-height: 70px; object-fit: contain; filter: none; transition: all 0.3s ease;">
                            </div>
                        </div>
                        
                        <div class="organization-item" style="flex-shrink: 0; text-align: center; transition: all 0.3s ease; padding: 1rem; border-radius: 8px; background: transparent; min-width: 120px; max-width: 150px;">
                            <div class="org-logo" style="text-align: center; margin-bottom: 0; padding: 0.5rem; background: transparent; border-radius: 6px; transition: all 0.3s ease;">
                                <img src="assets/images/abi-logo.webp" alt="ABI Logo" loading="lazy" style="max-width: 100px; max-height: 70px; object-fit: contain; filter: none; transition: all 0.3s ease;">
                            </div>
                        </div>
                        
                        <div class="organization-item" style="flex-shrink: 0; text-align: center; transition: all 0.3s ease; padding: 1rem; border-radius: 8px; background: transparent; min-width: 120px; max-width: 150px;">
                            <div class="org-logo" style="text-align: center; margin-bottom: 0; padding: 0.5rem; background: transparent; border-radius: 6px; transition: all 0.3s ease;">
                                <img src="assets/images/kau-logo.webp" alt="Kerala Agricultural University Logo" loading="lazy" style="max-width: 100px; max-height: 70px; object-fit: contain; filter: none; transition: all 0.3s ease;">
                            </div>
                        </div>
                        
                        <div class="organization-item" style="flex-shrink: 0; text-align: center; transition: all 0.3s ease; padding: 1rem; border-radius: 8px; background: transparent; min-width: 120px; max-width: 150px;">
                            <div class="org-logo" style="text-align: center; margin-bottom: 0; padding: 0.5rem; background: transparent; border-radius: 6px; transition: all 0.3s ease;">
                                <img src="assets/images/ksm-logo.webp" alt="Kerala Startup Mission Logo" loading="lazy" style="max-width: 100px; max-height: 70px; object-fit: contain; filter: none; transition: all 0.3s ease;">
                            </div>
                        </div>
                        
                        <div class="organization-item" style="flex-shrink: 0; text-align: center; transition: all 0.3s ease; padding: 1rem; border-radius: 8px; background: transparent; min-width: 120px; max-width: 150px;">
                            <div class="org-logo" style="text-align: center; margin-bottom: 0; padding: 0.5rem; background: transparent; border-radius: 6px; transition: all 0.3s ease;">
                                <img src="assets/images/iim-vizag-logo.webp" alt="IIM Visakhapatnam Logo" loading="lazy" style="max-width: 100px; max-height: 70px; object-fit: contain; filter: none; transition: all 0.3s ease;">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Component -->
    <div id="contact-component"></div>

    <!-- Footer Component -->
    <div id="footer-component"></div>

    <!-- Back to top button -->
    <button id="back-to-top" class="fixed bottom-8 right-8 w-12 h-12 bg-green-600 text-white rounded-full shadow-lg hover:bg-green-700 transition-all transform translate-y-16 opacity-0">
        <i class="fas fa-arrow-up"></i>
    </button>
    <!-- Shopify cart toggle button -->
    <button id="shopify-cart-toggle" class="fixed bottom-24 right-8 w-12 h-12 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 transition-all" style="display: none;">
        <i class="fas fa-shopping-cart"></i>
        <span id="shopify-cart-count" class="absolute -top-1 -right-1 bg-red-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center">0</span>
    </button>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <!-- Shopify Buy Button SDK -->
    <script src="https://sdks.shopifycdn.com/buy-button/latest/buy-button-storefront.min.js"></script>
    
    <script>
        // Wait for DOM to be fully loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Load header component
            fetch('components/header.html')
                .then(response => response.text())
                .then(html => {
                    document.getElementById('header-component').innerHTML = html;
                
                // Initialize header functionality after component loads
                const header = document.getElementById('header');
                const burgerMenu = document.getElementById('burger-menu');
                const navMenu = document.getElementById('nav-menu');
                
                if (burgerMenu && navMenu) {
                    burgerMenu.addEventListener('click', function() {
                        burgerMenu.classList.toggle('active');
                        navMenu.classList.toggle('active');
                    });
                    
                    // Close menu when clicking on a link
                    const navLinks = navMenu.querySelectorAll('a');
                    navLinks.forEach(link => {
                        link.addEventListener('click', function() {
                            burgerMenu.classList.remove('active');
                            navMenu.classList.remove('active');
                        });
                    });
                    
                    // Close menu when clicking outside
                    document.addEventListener('click', function(event) {
                        if (!burgerMenu.contains(event.target) && !navMenu.contains(event.target)) {
                            burgerMenu.classList.remove('active');
                            navMenu.classList.remove('active');
                        }
                    });
                }
                
                // Header scroll effect
                if (header) {
                    window.addEventListener('scroll', function() {
                        if (window.scrollY > 100) {
                            header.classList.add('scrolled');
                        } else {
                            header.classList.remove('scrolled');
                        }
                    });
                }
            })
            .catch(error => {
                console.error('Error loading header component:', error);
            });

        // Load contact component
        fetch('components/contact.html')
            .then(response => response.text())
            .then(html => {
                document.getElementById('contact-component').innerHTML = html;
                
                // Initialize contact form functionality after component loads
                const contactForm = document.querySelector('.contact-form');
                if (contactForm) {
                    contactForm.addEventListener('submit', function(e) {
                        e.preventDefault();
                        
                        // Show success message
                        const button = this.querySelector('button[type="submit"]');
                        const originalText = button.innerHTML;
                        
                        button.innerHTML = '<i class="fas fa-check mr-2"></i>Message Sent!';
                        button.style.background = 'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)';
                        
                        setTimeout(() => {
                            button.innerHTML = originalText;
                            button.style.background = '';
                            this.reset();
                        }, 3000);
                    });
                }
            })
            .catch(error => {
                console.error('Error loading contact component:', error);
            });

        // Load footer component
        fetch('components/footer.html')
            .then(response => response.text())
            .then(html => {
                document.getElementById('footer-component').innerHTML = html;
                
                // Initialize footer functionality after component loads
                const newsletterForm = document.querySelector('.newsletter-form');
                if (newsletterForm) {
                    newsletterForm.addEventListener('submit', function(e) {
                        e.preventDefault();
                        
                        // Show success message
                        const button = this.querySelector('button[type="submit"]');
                        const originalContent = button.innerHTML;
                        
                        button.innerHTML = '<i class="fas fa-check mr-2"></i>Subscribed!';
                        button.style.background = '#16a34a';
                        
                        setTimeout(() => {
                            button.innerHTML = originalContent;
                            button.style.background = '';
                            this.reset();
                        }, 3000);
                    });
                }
            })
            .catch(error => {
                console.error('Error loading footer component:', error);
            });

            // Initialize AOS after components are loaded
            setTimeout(() => {
                AOS.init({
                    duration: 1000,
                    once: true,
                    offset: 100
                });
            }, 500);
        });

        // Loading screen
        window.addEventListener('load', function() {
            setTimeout(function() {
                const loadingScreenEl = document.getElementById('loading-screen');
                if (!loadingScreenEl) return;
                loadingScreenEl.style.opacity = '0';
                setTimeout(function() {
                    loadingScreenEl.style.display = 'none';
                }, 500);
            }, 1500);
        });

        // Back to top button scroll effect
        window.addEventListener('scroll', function() {
            const backToTop = document.getElementById('back-to-top');
            
            if (window.scrollY > 100) {
                backToTop.classList.remove('translate-y-16', 'opacity-0');
            } else {
                backToTop.classList.add('translate-y-16', 'opacity-0');
            }
        });

        // Counter animation
        function animateCounters() {
            const counters = document.querySelectorAll('.counter');
            counters.forEach(counter => {
                const target = parseInt(counter.getAttribute('data-target'));
                const increment = target / 200;
                let current = 0;
                
                const timer = setInterval(() => {
                    current += increment;
                    if (current >= target) {
                        counter.textContent = target + '+';
                        clearInterval(timer);
                    } else {
                        counter.textContent = Math.floor(current) + '+';
                    }
                }, 10);
            });
        }

        // Trigger counter animation when in view
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    animateCounters();
                    observer.unobserve(entry.target);
                }
            });
        });

        document.querySelectorAll('.counter').forEach(counter => {
            observer.observe(counter);
        });

        // Initialize Swiper
        const swiper = new Swiper('.features-swiper', {
            slidesPerView: 1,
            spaceBetween: 30,
            loop: true,
            autoplay: {
                delay: 3000,
                disableOnInteraction: false,
            },
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
            },
            breakpoints: {
                640: {
                    slidesPerView: 2,
                },
                1024: {
                    slidesPerView: 3,
                }
            }
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Back to top button
        document.getElementById('back-to-top').addEventListener('click', function() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        // Parallax effect
        window.addEventListener('scroll', function() {
            const scrolled = window.pageYOffset;
            const parallaxElements = document.querySelectorAll('.parallax-element');
            
            parallaxElements.forEach(element => {
                const speed = element.dataset.speed || 0.5;
                const yPos = -(scrolled * speed);
                element.style.transform = `translateY(${yPos}px)`;
            });
        });





        // Add some interactive hover effects
        document.querySelectorAll('.card-3d').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'rotateY(5deg) rotateX(5deg) scale(1.05)';
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'rotateY(0deg) rotateX(0deg) scale(1)';
            });
        });

        // Video background handling
        const heroVideo = document.querySelector('#home video');
        if (heroVideo) {
            // Ensure video plays on mobile devices
            heroVideo.addEventListener('loadeddata', function() {
                this.play().catch(function(error) {
                    console.log('Video autoplay failed:', error);
                });
            });
            
            // Fallback for browsers that don't support video
            heroVideo.addEventListener('error', function() {
                console.log('Video failed to load, using fallback background');
                const heroSection = document.getElementById('home');
                heroSection.style.background = 'linear-gradient(-45deg, #22c55e, #16a34a, #3b82f6, #1d4ed8)';
                heroSection.style.backgroundSize = '400% 400%';
                heroSection.style.animation = 'gradient-shift 15s ease infinite';
            });
        }

        // Scroll indicator functionality
        const scrollIndicator = document.getElementById('scroll-indicator');
        if (scrollIndicator) {
            // Make scroll indicator clickable
            scrollIndicator.addEventListener('click', function() {
                const statsSection = document.getElementById('about');
                if (statsSection) {
                    statsSection.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
            
            // Hide scroll indicator when user scrolls down
            window.addEventListener('scroll', function() {
                if (window.scrollY > 100) {
                    scrollIndicator.style.opacity = '0';
                    scrollIndicator.style.transform = 'translateX(-50%) translateY(20px)';
                } else {
                    scrollIndicator.style.opacity = '1';
                    scrollIndicator.style.transform = 'translateX(-50%) translateY(0)';
                }
            });
        }

        // Funding badge functionality
        const fundingBadge = document.getElementById('funding-badge');
        const closeFundingBadge = document.getElementById('close-funding-badge');

        // Check if user has previously closed the alert
        const hasClosedAlert = localStorage.getItem('fundingAlertClosed') === 'true';

        if (!hasClosedAlert && fundingBadge) {
            // Show floating badge after page loads
            setTimeout(() => {
                fundingBadge.classList.remove('opacity-0', 'pointer-events-none');
                fundingBadge.classList.add('opacity-100', 'pointer-events-auto');
            }, 3000); // Show after loading screen and initial content

            // Badge close button - dismiss permanently
            if (closeFundingBadge) {
                closeFundingBadge.addEventListener('click', function(e) {
                    e.stopPropagation();
                    fundingBadge.classList.add('opacity-0', 'pointer-events-none');
                    fundingBadge.classList.remove('opacity-100', 'pointer-events-auto');
                    localStorage.setItem('fundingAlertClosed', 'true');
                });
            }

            // Badge click - open learn more
            fundingBadge.addEventListener('click', function() {
                window.open('https://www.manoramaonline.com/business/business-news/2025/05/16/albedon-eco-friendly-fabric-stiffener-spray-manorama-online-elevate-business-news-jin.html', '_blank');
            });
        }

        // Shopify Buy Button integration
        (function() {
            const SHOPIFY_DOMAIN = 'm0vr7q-we.myshopify.com';
            const SHOPIFY_STOREFRONT_TOKEN = '1008bb8148450085299ca0cf7811ba2e';
            const SHOPIFY_COLLECTION_HANDLE = 'website'; // Or use collection ID: gid://shopify/Collection/519270826203

            // Lazy Shopify client initializer
            let __shopifyClient = null;
            function ensureClient() {
                if (__shopifyClient) return __shopifyClient;
                if (!window.ShopifyBuy) return null;
                __shopifyClient = window.ShopifyBuy.buildClient({
                    domain: SHOPIFY_DOMAIN,
                    storefrontAccessToken: SHOPIFY_STOREFRONT_TOKEN
                });
                return __shopifyClient;
            }

            // Queue for clicks before cart/UI is ready
            const pendingActionQueue = [];

            function processAction(client, cartInstance, action) {
                const { sku, qty, redirectToCheckout } = action;
                function onSuccess() {
                    if (cartInstance && typeof cartInstance.setActive === 'function') {
                        if (redirectToCheckout) {
                            const url = cartInstance.model && cartInstance.model.webUrl;
                            if (url) {
                                window.location.href = url;
                                return;
                            }
                            if (cartInstance.checkout && cartInstance.checkout.open) {
                                cartInstance.checkout.open();
                                return;
                            }
                        }
                        cartInstance.setActive(true);
                    }
                }

                if (cartInstance && typeof cartInstance.addVariant === 'function') {
                    return fetchVariantIdBySKU(client, sku)
                        .then(function(variantId) { return cartInstance.addVariant({ id: variantId, quantity: qty }); })
                        .then(onSuccess)
                        .catch(function(err) {
                            console.error('Cart addVariant error:', err);
                            alert('Sorry, this item is unavailable right now.');
                        });
                }

                if (client && client.checkout) {
                    return client.checkout.create()
                        .then(function(checkout) {
                            return fetchVariantIdBySKU(client, sku).then(function(variantId) {
                                return client.checkout.addLineItems(checkout.id, [{ variantId: variantId, quantity: qty }]);
                            });
                        })
                        .then(function(updatedCheckout) {
                            if (redirectToCheckout && updatedCheckout && updatedCheckout.webUrl) {
                                window.location.href = updatedCheckout.webUrl;
                            } else if (updatedCheckout && updatedCheckout.webUrl) {
                                window.open(updatedCheckout.webUrl, '_blank');
                            }
                        })
                        .catch(function(err) {
                            console.error('Checkout fallback error:', err);
                            alert('Sorry, checkout is unavailable right now.');
                        });
                }

                alert('Shop is still loading. Please try again in a moment.');
                return Promise.resolve();
            }

            function attachEarlyDelegatedHandlers() {
                document.addEventListener('click', function(e) {
                    const btn = e.target.closest('.shopify-add-to-cart, .shopify-buy-now');
                    if (!btn) return;
                    const sku = btn.getAttribute('data-sku');
                    const qty = parseInt(btn.getAttribute('data-qty') || '1', 10);
                    const redirectToCheckout = btn.classList.contains('shopify-buy-now');
                    // If the cart is not yet ready, try immediate checkout fallback; otherwise queue
                    if (!window.shopifyCart) {
                        if (window.ShopifyBuy) {
                            processAction(ensureClient(), window.shopifyCart, { sku: sku, qty: qty, redirectToCheckout: redirectToCheckout });
                        } else {
                            pendingActionQueue.push({ sku: sku, qty: qty, redirectToCheckout: redirectToCheckout });
                            if (!window.__shopifyEarlyToastShown) {
                                window.__shopifyEarlyToastShown = true;
                                alert('Preparing the cart... it will open shortly.');
                                setTimeout(function() { window.__shopifyEarlyToastShown = false; }, 3000);
                            }
                        }
                        return;
                    }
                });
            }

            attachEarlyDelegatedHandlers();

            if (!window.ShopifyBuy || SHOPIFY_DOMAIN.includes('YOUR_SHOP_NAME') || SHOPIFY_STOREFRONT_TOKEN.includes('YOUR_STOREFRONT_ACCESS_TOKEN')) {
                console.warn('Shopify not configured. Set SHOPIFY_DOMAIN and SHOPIFY_STOREFRONT_TOKEN.');
                return;
            }

            const client = ensureClient();

            function fetchVariantIdBySKU(clientInstance, sku) {
                const query = `
                  query($query: String!) {
                    productVariants(first: 1, query: $query) {
                      edges { node { id sku } }
                    }
                  }
                `;
                return clientInstance.graphQLClient.send(query, { query: 'sku:' + sku }).then(function(res) {
                    const edges = res && res.data && res.data.productVariants && res.data.productVariants.edges;
                    if (edges && edges.length > 0) {
                        return edges[0].node.id;
                    }
                    throw new Error('Variant not found for SKU ' + sku);
                });
            }

            window.ShopifyBuy.UI.onReady(client).then(function(ui) {
                ui.createComponent('cart', {
                    options: {
                        cart: {
                            startOpen: false,
                            styles: { button: { 'background-color': '#2563eb' } }
                        }
                    }
                }).then(function(cart) {
                    window.shopifyCart = cart;

                    function updateCartBadge() {
                        const badge = document.getElementById('shopify-cart-count');
                        if (!badge || !cart.model) return;
                        const count = cart.model.lineItems.reduce((sum, item) => sum + item.quantity, 0);
                        badge.textContent = count;
                    }

                    if (cart.subscribe) {
                        cart.subscribe('checkout:updated', updateCartBadge);
                    }

                    const cartToggle = document.getElementById('shopify-cart-toggle');
                    if (cartToggle) {
                        cartToggle.addEventListener('click', function() {
                            cart.setActive(true);
                        });
                        cartToggle.style.display = 'block';
                    }

                    function attachButtonHandlers(root) {
                        (root || document).querySelectorAll('.shopify-add-to-cart').forEach(function(btn) {
                            if (btn.__shopifyBound) return;
                            btn.__shopifyBound = true;
                            btn.addEventListener('click', function() {
                                const sku = this.getAttribute('data-sku');
                                const qty = parseInt(this.getAttribute('data-qty') || '1', 10);
                                processAction(client, cart, { sku: sku, qty: qty, redirectToCheckout: false })
                                    .then(updateCartBadge)
                                    .catch(function(err) { console.error('Add to cart error:', err); });
                            });
                        });

                        (root || document).querySelectorAll('.shopify-buy-now').forEach(function(btn) {
                            if (btn.__shopifyBound) return;
                            btn.__shopifyBound = true;
                            btn.addEventListener('click', function() {
                                const sku = this.getAttribute('data-sku');
                                const qty = parseInt(this.getAttribute('data-qty') || '1', 10);
                                processAction(client, cart, { sku: sku, qty: qty, redirectToCheckout: true })
                                    .then(updateCartBadge)
                                    .catch(function(err) { console.error('Buy now error:', err); });
                            });
                        });
                    }

                    function renderCollectionProducts(handle) {
                        if (!handle) return;
                        const query = `
                          query($handle: String!) {
                            collection(handle: $handle) {
                              id
                              title
                              products(first: 12) {
                                edges {
                                  node {
                                    id
                                    title
                                    handle
                                    featuredImage { url altText }
                                    priceRange { minVariantPrice { amount currencyCode } }
                                    variants(first: 1) { edges { node { id sku } } }
                                  }
                                }
                              }
                            }
                          }
                        `;
                        client.graphQLClient.send(query, { handle: handle }).then(function(res) {
                            const container = document.getElementById('shopify-dynamic-products');
                            if (!container) return;
                            const edges = res && res.data && res.data.collection && res.data.collection.products && res.data.collection.products.edges || [];
                            const html = edges.map(function(edge) {
                                const p = edge.node;
                                const img = p.featuredImage;
                                const variantEdge = p.variants && p.variants.edges && p.variants.edges[0];
                                const sku = variantEdge && variantEdge.node && variantEdge.node.sku || '';
                                const price = p.priceRange && p.priceRange.minVariantPrice;
                                const priceText = price ? (price.currencyCode === 'INR' ? '₹' : '') + parseFloat(price.amount).toFixed(0) : '';
                                return `
                                    <div class="card-3d bg-white rounded-2xl shadow-lg overflow-hidden hover-lift" data-aos="flip-left">
                                        <div class="h-48 bg-gradient-to-r from-green-100 to-blue-100 flex items-center justify-center relative">
                                            ${img ? '<img src="' + img.url + '" alt="' + (img.altText || p.title) + '" class="max-w-full max-h-full object-contain">' : ''}
                                        </div>
                                        <div class="p-6">
                                            <h3 class="text-xl font-bold text-gray-800 mb-2">${p.title}</h3>
                                            <div class="flex items-baseline gap-2 mb-4">
                                                <span class="text-2xl font-bold text-gray-800">${priceText}</span>
                                            </div>
                                            <div class="flex gap-3">
                                                <button class="shopify-add-to-cart flex-1 border-2 border-blue-600 text-blue-600 py-2 px-4 rounded-lg font-semibold hover:bg-blue-600 hover:text-white transition-all" data-sku="${sku}">
                                                    Add to Cart
                                                </button>
                                                <button class="shopify-buy-now flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-blue-700 transition-all" data-sku="${sku}">
                                                    Buy Now
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                `;
                            }).join('');
                            container.innerHTML = html;
                            attachButtonHandlers(container);
                            if (window.AOS && window.AOS.refresh) window.AOS.refresh();
                        }).catch(function(err) {
                            console.error('Error loading collection:', err);
                        });
                    }

                    // Bind handlers to existing buttons
                    attachButtonHandlers(document);
                    // Update badge and toggle
                    if (typeof updateCartBadge === 'function') updateCartBadge();
                    const toggle = document.getElementById('shopify-cart-toggle');
                    if (toggle) toggle.style.display = 'block';
                    // Render dynamic products
                    renderCollectionProducts(SHOPIFY_COLLECTION_HANDLE);

                    // Drain any pending early clicks
                    if (pendingActionQueue.length) {
                        const queueCopy = pendingActionQueue.splice(0, pendingActionQueue.length);
                        queueCopy.forEach(function(action) { processAction(client, cart, action).catch(function(e){ console.error(e); }); });
                    }
                });
            });
        })();
    </script>
</body>
</html> 